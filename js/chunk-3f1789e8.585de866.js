(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f1789e8"],{"06a2":function(e,t,r){"use strict";var n=r("fc81")(!0);r("492d")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},"2aa3":function(e,t,r){"use strict";var n=r("6179"),o=r("5a88"),i="Set";e.exports=r("fea3")(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(o(this,i),e=0===e?0:e,e)}},n)},"5a88":function(e,t,r){var n=r("fb68");e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},6179:function(e,t,r){"use strict";var n=r("064e").f,o=r("e005"),i=r("ef91"),a=r("4ce5"),l=r("a73b"),s=r("206c"),c=r("492d"),u=r("475d"),f=r("1157"),d=r("149f"),h=r("f71f").fastKey,p=r("5a88"),v=d?"_s":"size",m=function(e,t){var r,n=h(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,c){var u=e((function(e,n){l(e,u,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=n&&s(n,r,e[c],e)}));return i(u.prototype,{clear:function(){for(var e=p(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=p(this,t),n=m(r,e);if(n){var o=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==n&&(r._f=o),r._l==n&&(r._l=i),r[v]--}return!!n},forEach:function(e){p(this,t);var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);while(r=r?r.n:this._f){n(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(e){return!!m(p(this,t),e)}}),d&&n(u.prototype,"size",{get:function(){return p(this,t)[v]}}),u},def:function(e,t,r){var n,o,i=m(e,t);return i?i.v=r:(e._l=i={i:o=h(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[v]++,"F"!==o&&(e._i[o]=i)),e},getEntry:m,setStrong:function(e,t,r){c(e,t,(function(e,r){this._t=p(e,t),this._k=r,this._l=void 0}),(function(){var e=this,t=e._k,r=e._l;while(r&&r.r)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?u(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,u(1))}),r?"entries":"values",!r,!0),f(t)}}},"9a33":function(e,t,r){"use strict";var n=r("2fd4"),o=r("69b3"),i=r("f63e"),a=r("e754"),l=r("eafa"),s=r("7108"),c=r("8714"),u=r("238a"),f=Math.min,d=[].push,h="split",p="length",v="lastIndex",m=4294967295,b=!u((function(){RegExp(m,"y")}));r("0aed")("split",2,(function(e,t,r,u){var w;return w="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(o,e,t);var i,a,l,s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?m:t>>>0,b=new RegExp(e.source,u+"g");while(i=c.call(b,o)){if(a=b[v],a>f&&(s.push(o.slice(f,i.index)),i[p]>1&&i.index<o[p]&&d.apply(s,i.slice(1)),l=i[0][p],f=a,s[p]>=h))break;b[v]===i.index&&b[v]++}return f===o[p]?!l&&b.test("")||s.push(""):s.push(o.slice(f)),s[p]>h?s.slice(0,h):s}:"0"[h](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var o=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,o,n):w.call(String(o),r,n)},function(e,t){var n=u(w,e,this,t,w!==r);if(n.done)return n.value;var c=o(e),d=String(this),h=i(c,RegExp),p=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(b?"y":"g"),y=new h(b?c:"^(?:"+c.source+")",v),g=void 0===t?m:t>>>0;if(0===g)return[];if(0===d.length)return null===s(y,d)?[d]:[];var _=0,S=0,k=[];while(S<d.length){y.lastIndex=b?S:0;var j,x=s(y,b?d:d.slice(S));if(null===x||(j=f(l(y.lastIndex+(b?0:S)),d.length))===_)S=a(d,S,p);else{if(k.push(d.slice(_,S)),k.length===g)return k;for(var I=1;I<=x.length-1;I++)if(k.push(x[I]),k.length===g)return k;S=_=j}}return k.push(d.slice(_)),k}]}))},dbf5:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("订单管理")])]),r("div",[r("el-form",{ref:"formSearch",attrs:{model:e.objSearch,rules:e.rules,"label-width":"100px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:"服务器",prop:"serverId"}},[r("el-select",{attrs:{placeholder:"请选择服务器"},model:{value:e.objSearch.serverId,callback:function(t){e.$set(e.objSearch,"serverId",t)},expression:"objSearch.serverId"}},e._l(e.aServerList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.serverId}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"角色ID",prop:"pid"}},[r("el-input",{attrs:{placeholder:"请输入角色ID"},model:{value:e.objSearch.pid,callback:function(t){e.$set(e.objSearch,"pid",t)},expression:"objSearch.pid"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-button",{staticStyle:{marginRight:"20px"},attrs:{disabled:!e.objSearch.pid,type:"primary"},on:{click:function(t){return e.handleSearch("formSearch")}}},[e._v("搜索")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleClickDownload()}}},[e._v("下载")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleReset("formSearch")}}},[e._v("重置")])],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"开始",prop:"start"}},[r("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择开始时间"},model:{value:e.objSearch.start,callback:function(t){e.$set(e.objSearch,"start",t)},expression:"objSearch.start"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"结束",prop:"end"}},[r("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择结束时间"},model:{value:e.objSearch.end,callback:function(t){e.$set(e.objSearch,"end",t)},expression:"objSearch.end"}})],1)],1)],1)],1)],1),r("el-row",[r("p",{staticStyle:{lineHeight:"32px"}},[e._v("【总记录数："+e._s(e.objSummary.totalNum)+"】-【总角色数："+e._s(e.objSummary.roleNum)+"】-【充值总额："+e._s(e.objSummary.moneyNum)+"】")])]),r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.aTableData,"tooltip-effect":"dark","max-height":"600"}},[r("el-table-column",{attrs:{prop:"id",label:"游戏订单id","min-width":"120"}}),r("el-table-column",{attrs:{prop:"pid",label:"角色id","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"serverId",label:"游戏服id","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"instanceId",label:"实例id","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"userId",label:"第三方会员id","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"orderNo",label:"第三方订单id","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"payTime",label:"支付时间","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"payMoney",label:"支付金额","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"支付状态","min-width":"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(e._f("statusFilter")(t.row.orderStatus)))])]}}])}),r("el-table-column",{attrs:{prop:"subject",label:"订单名称","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"extensionInfo",label:"拓展信息","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"payId",label:"商品id","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"订单处理状态","min-width":"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(e._f("flagFilter")(t.row.handleFlag)))])]}}])}),r("el-table-column",{attrs:{prop:"handleTime",label:"订单处理时间","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"callBackTime",label:"回调时间","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"120","show-overflow-tooltip":""}})],1)],1)],1)},o=[],i=(r("2aa3"),r("06a2"),r("ec25"),r("6d57"),r("9a33"),r("163d"),r("2427")),a=r.n(i),l=r("6e40"),s={name:"order",components:{},props:{},data:function(){return{aServerList:[],objSummary:{totalNum:0,roleNum:0,moneyNum:0},objSearch:{serverId:"",pid:"",start:"",end:""},aTableData:[],rules:{serverId:[{required:!0,message:"请选择",trigger:"change"}],pid:[{required:!0,message:"请输入",trigger:"blur"}],start:[{required:!0,message:"请选择时间",trigger:"change"}],end:[{required:!0,message:"请选择时间",trigger:"change"}]}}},watch:{},filters:{statusFilter:function(e){var t=["等待支付","支付成功","支付失败","支付中","支付金额错误","支付渗透参数错误","支付项错误"];return t[Number(e)]},flagFilter:function(e){var t=["初始化","发货成功","代发货"];return t[Number(e)]}},methods:{handleReset:function(e){this.$refs[e].resetFields()},isRole:function(){var e=JSON.parse(sessionStorage.getItem("userInfo")),t=e.powerType;return"超级管理员"==t},handleSearch:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.fetchList()}))},handleClickDownload:function(){if(this.objSearch.serverId){var e=JSON.parse(JSON.stringify(this.objSearch));a()({method:"post",headers:{"content-type":"application/json; charset=utf-8"},responseType:"stream",url:l["a"]+API.order.download_order,data:e}).then((function(e){var t=new Blob(["\ufeff".concat(e.data)],{type:"text/plain;charset=utf-8"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r;var o=decodeURIComponent(e.headers["content-disposition"].split(";")[1].split("filename=")[1].split(".")[0]);n.download="".concat(o,".csv"),n.click(),window.URL.revokeObjectURL(r)}))}else this.$message.error("下载前请选择服务器！")},fetchList:function(){var e=this,t=JSON.parse(JSON.stringify(this.objSearch));this.$fetch.post(API.order.select_order,t).then((function(t){var r=t.data;if(200==r.status){var n=r.data,o=n.length,i=[],a=[],l=0;n.forEach((function(e){var t=Number(e.payMoney)||0;l+=t,i.push(e.pid)})),a=Array.from(new Set(i)),e.objSummary={totalNum:o,roleNum:a.length,moneyNum:l},e.aTableData=r.data}else e.$message.error(r.desc)}))},fetchServerList:function(){var e=this;this.$fetch.post(API.email.server_list).then((function(t){var r=t.data;200==r.status?e.aServerList=r.data:e.$message.error(r.desc)}))}},mounted:function(){this.fetchServerList()}},c=s,u=r("4e82"),f=Object(u["a"])(c,n,o,!1,null,"4c3c0e76",null);t["default"]=f.exports},ebc3:function(e,t,r){"use strict";var n=r("064e"),o=r("cc33");e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},ec25:function(e,t,r){"use strict";var n=r("4ce5"),o=r("e46b"),i=r("008a"),a=r("d0bc"),l=r("2285"),s=r("eafa"),c=r("ebc3"),u=r("f878");o(o.S+o.F*!r("d0c5")((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,o,f,d=i(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,b=0,w=u(d);if(m&&(v=n(v,p>2?arguments[2]:void 0,2)),void 0==w||h==Array&&l(w))for(t=s(d.length),r=new h(t);t>b;b++)c(r,b,m?v(d[b],b):d[b]);else for(f=w.call(d),r=new h;!(o=f.next()).done;b++)c(r,b,m?a(f,v,[o.value,b],!0):o.value);return r.length=b,r}})},f71f:function(e,t,r){var n=r("ec45")("meta"),o=r("fb68"),i=r("e042"),a=r("064e").f,l=0,s=Object.isExtensible||function(){return!0},c=!r("238a")((function(){return s(Object.preventExtensions({}))})),u=function(e){a(e,n,{value:{i:"O"+ ++l,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!s(e))return"F";if(!t)return"E";u(e)}return e[n].i},d=function(e,t){if(!i(e,n)){if(!s(e))return!0;if(!t)return!1;u(e)}return e[n].w},h=function(e){return c&&p.NEED&&s(e)&&!i(e,n)&&u(e),e},p=e.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},fea3:function(e,t,r){"use strict";var n=r("e7ad"),o=r("e46b"),i=r("bf16"),a=r("ef91"),l=r("f71f"),s=r("206c"),c=r("a73b"),u=r("fb68"),f=r("238a"),d=r("d0c5"),h=r("399f"),p=r("1e5b");e.exports=function(e,t,r,v,m,b){var w=n[e],y=w,g=m?"set":"add",_=y&&y.prototype,S={},k=function(e){var t=_[e];i(_,e,"delete"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof y&&(b||_.forEach&&!f((function(){(new y).entries().next()})))){var j=new y,x=j[g](b?{}:-0,1)!=j,I=f((function(){j.has(1)})),N=d((function(e){new y(e)})),E=!b&&f((function(){var e=new y,t=5;while(t--)e[g](t,t);return!e.has(-0)}));N||(y=t((function(t,r){c(t,y,e);var n=p(new w,t,y);return void 0!=r&&s(r,m,n[g],n),n})),y.prototype=_,_.constructor=y),(I||E)&&(k("delete"),k("has"),m&&k("get")),(E||x)&&k(g),b&&_.clear&&delete _.clear}else y=v.getConstructor(t,e,m,g),a(y.prototype,r),l.NEED=!0;return h(y,e),S[e]=y,o(o.G+o.W+o.F*(y!=w),S),b||v.setStrong(y,e,m),y}}}]);
//# sourceMappingURL=chunk-3f1789e8.585de866.js.map